{"code":"import { Dictionaries } from \"./enum\";\nexport class Storage {\n    set(key, value, expire = Dictionaries.permanent) {\n        const data = {\n            value,\n            [Dictionaries.expire]: expire, // 过期时间\n        };\n        localStorage.setItem(key, JSON.stringify(data));\n    }\n    get(key) {\n        const value = localStorage.getItem(key);\n        if (value) {\n            const data = JSON.parse(value);\n            const now = new Date().getTime();\n            if (typeof data[Dictionaries.expire] == \"number\" &&\n                data[Dictionaries.expire] < now) {\n                this.remove(key);\n                return {\n                    message: `您的${key}已过期`,\n                    value: null,\n                };\n            }\n            else {\n                return {\n                    message: \"成功\",\n                    value: data.value,\n                };\n            }\n        }\n        else {\n            return {\n                message: \"值无效\",\n                value: null,\n            };\n        }\n    }\n    remove(key) {\n        localStorage.removeItem(key);\n    }\n    clear() {\n        localStorage.clear();\n    }\n}\n","references":["D:/VSCODE/TypeScript/storage/src/type/index.ts","D:/VSCODE/TypeScript/storage/src/enum/index.ts"]}
